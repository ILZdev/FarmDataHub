<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ILZfarm Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/_sdk/element_sdk.js"></script>
    <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&amp;display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
        font-family: "Poppins", sans-serif;
        background: linear-gradient(135deg, #f8fffe 0%, #f0f9f4 100%);
        color: #2d3748;
        min-height: 100%;
      }

      * {
        box-sizing: border-box;
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 20px;
      }

      /* Header */
      .header {
        background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
        color: white;
        padding: 40px 0;
        margin-bottom: 30px;
        border-radius: 20px;
        box-shadow: 0 10px 40px rgba(34, 197, 94, 0.25);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .header::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="2" fill="rgba(255,255,255,0.1)"/><circle cx="80" cy="40" r="1.5" fill="rgba(255,255,255,0.1)"/><circle cx="40" cy="80" r="1" fill="rgba(255,255,255,0.1)"/></svg>');
        pointer-events: none;
      }

      .header:hover {
        transform: translateY(-3px);
        box-shadow: 0 15px 50px rgba(34, 197, 94, 0.35);
      }

      .header-content {
        text-align: center;
        padding: 0 20px;
        position: relative;
        z-index: 1;
      }

      .header h1 {
        margin: 0 0 15px 0;
        font-size: 2.8rem;
        font-weight: 700;
        text-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        line-height: 1.2;
      }

      .system-name {
        font-size: 1.4rem;
        font-weight: 400;
        opacity: 0.95;
        letter-spacing: 3px;
        text-transform: uppercase;
        background: rgba(255, 255, 255, 0.2);
        padding: 8px 20px;
        border-radius: 25px;
        display: inline-block;
        backdrop-filter: blur(10px);
      }

      /* Navigation Menu */
      .navigation {
        background: white;
        border-radius: 16px;
        box-shadow: 0 6px 25px rgba(0, 0, 0, 0.08);
        margin-bottom: 30px;
        overflow: hidden;
        transition: all 0.3s ease;
      }

      .navigation:hover {
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
      }

      .nav-container {
        display: flex;
        overflow-x: auto;
        scrollbar-width: thin;
        scrollbar-color: #d1d5db #f9fafb;
        -ms-overflow-style: auto;
        padding-bottom: 5px;
      }

      .nav-container::-webkit-scrollbar {
        height: 6px;
      }

      .nav-container::-webkit-scrollbar-track {
        background: #f9fafb;
        border-radius: 3px;
      }

      .nav-container::-webkit-scrollbar-thumb {
        background: #d1d5db;
        border-radius: 3px;
        transition: background 0.3s ease;
      }

      .nav-container::-webkit-scrollbar-thumb:hover {
        background: #9ca3af;
      }

      .nav-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 20px 12px;
        text-decoration: none;
        color: #6b7280;
        transition: all 0.3s ease;
        min-width: 110px;
        border-bottom: 3px solid transparent;
        position: relative;
        flex-shrink: 0;
      }

      .nav-item:hover {
        background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
        color: #16a34a;
        transform: translateY(-2px);
      }

      .nav-item.active {
        background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
        color: white;
        border-bottom-color: #15803d;
      }

      .nav-item.active:hover {
        background: linear-gradient(135deg, #16a34a 0%, #15803d 100%);
        color: white;
      }

      .nav-icon {
        font-size: 1.5rem;
        margin-bottom: 8px;
        transition: transform 0.3s ease;
      }

      .nav-item:hover .nav-icon {
        transform: scale(1.1);
      }

      .nav-text {
        font-size: 0.75rem;
        font-weight: 600;
        text-align: center;
        line-height: 1.1;
        max-width: 100px;
        word-wrap: break-word;
        hyphens: auto;
      }

      /* Stats Cards */
      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 25px;
        margin-bottom: 35px;
      }

      .stat-card {
        background: white;
        padding: 30px;
        border-radius: 16px;
        box-shadow: 0 6px 25px rgba(0, 0, 0, 0.08);
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        border-left: 5px solid #22c55e;
        position: relative;
        overflow: hidden;
      }

      .stat-card::before {
        content: "";
        position: absolute;
        top: 0;
        right: 0;
        width: 100px;
        height: 100px;
        background: linear-gradient(
          135deg,
          rgba(34, 197, 94, 0.1) 0%,
          transparent 70%
        );
        border-radius: 50%;
        transform: translate(30px, -30px);
      }

      .stat-card:hover {
        transform: translateY(-8px) scale(1.02);
        box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
        border-left-color: #16a34a;
      }

      .stat-card h3 {
        margin: 0 0 15px 0;
        font-size: 0.95rem;
        color: #6b7280;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 1px;
        position: relative;
        z-index: 1;
      }

      .stat-value {
        font-size: 2.4rem;
        font-weight: 800;
        color: #22c55e;
        margin: 0 0 8px 0;
        position: relative;
        z-index: 1;
      }

      .stat-change {
        font-size: 0.85rem;
        color: #10b981;
        margin-top: 8px;
        font-weight: 500;
        position: relative;
        z-index: 1;
      }

      /* Main Content Grid */
      .main-grid {
        display: grid;
        grid-template-columns: 2.2fr 1fr;
        gap: 35px;
        margin-bottom: 35px;
      }

      /* Chart Section */
      .chart-section {
        background: white;
        padding: 30px;
        border-radius: 16px;
        box-shadow: 0 6px 25px rgba(0, 0, 0, 0.08);
        transition: all 0.3s ease;
      }

      .chart-section:hover {
        box-shadow: 0 10px 35px rgba(0, 0, 0, 0.12);
      }

      .chart-title {
        font-size: 1.4rem;
        font-weight: 700;
        margin-bottom: 25px;
        color: #374151;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .chart-title::before {
        content: "üìä";
        font-size: 1.2rem;
      }

      .chart-container {
        position: relative;
        height: 300px;
      }

      /* Countdown Section */
      .countdown-section {
        background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
        padding: 30px;
        border-radius: 16px;
        box-shadow: 0 6px 25px rgba(0, 0, 0, 0.08);
        text-align: center;
        transition: all 0.4s ease;
        border: 2px solid #bbf7d0;
        position: relative;
        overflow: hidden;
      }

      .countdown-section::before {
        content: "";
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(
          circle,
          rgba(34, 197, 94, 0.1) 0%,
          transparent 70%
        );
        animation: pulse 4s ease-in-out infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
          opacity: 0.5;
        }
        50% {
          transform: scale(1.1);
          opacity: 0.8;
        }
      }

      .countdown-section:hover {
        transform: translateY(-5px);
        box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
      }

      .countdown-title {
        font-size: 1.2rem;
        font-weight: 700;
        margin-bottom: 20px;
        color: #166534;
        position: relative;
        z-index: 1;
      }

      .countdown-timer {
        font-size: 2.5rem;
        font-weight: 800;
        color: #22c55e;
        margin-bottom: 15px;
        font-family: "Courier New", monospace;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        position: relative;
        z-index: 1;
      }

      .countdown-label {
        font-size: 0.9rem;
        color: #16a34a;
        font-weight: 500;
        position: relative;
        z-index: 1;
      }

      .next-harvest {
        margin-top: 20px;
        padding: 12px;
        background: rgba(255, 255, 255, 0.7);
        border-radius: 10px;
        color: #16a34a;
        font-weight: 600;
        position: relative;
        z-index: 1;
      }

      /* Project Status */
      .project-status {
        background: white;
        padding: 30px;
        border-radius: 16px;
        box-shadow: 0 6px 25px rgba(0, 0, 0, 0.08);
        transition: all 0.3s ease;
      }

      .project-status:hover {
        box-shadow: 0 10px 35px rgba(0, 0, 0, 0.12);
      }

      .project-title {
        font-size: 1.4rem;
        font-weight: 700;
        margin-bottom: 25px;
        color: #374151;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .project-title::before {
        content: "üå±";
        font-size: 1.2rem;
      }

      .project-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 18px;
        margin-bottom: 12px;
        background: #f9fafb;
        border-radius: 12px;
        transition: all 0.3s ease;
        border: 1px solid #f3f4f6;
      }

      .project-item:hover {
        background: #f3f4f6;
        transform: translateX(8px);
        border-color: #e5e7eb;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      }

      .project-name {
        font-weight: 600;
        color: #374151;
        font-size: 0.95rem;
      }

      .status-badge {
        padding: 6px 16px;
        border-radius: 25px;
        font-size: 0.8rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .status-healthy {
        background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);
        color: #166534;
        border: 1px solid #86efac;
      }

      .status-care {
        background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
        color: #92400e;
        border: 1px solid #fcd34d;
      }

      .status-ready {
        background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
        color: #1e40af;
        border: 1px solid #93c5fd;
      }

      /* News Section */
      .news-section {
        background: white;
        padding: 30px;
        border-radius: 16px;
        box-shadow: 0 6px 25px rgba(0, 0, 0, 0.08);
        margin-top: 35px;
        transition: all 0.3s ease;
      }

      .news-section:hover {
        box-shadow: 0 10px 35px rgba(0, 0, 0, 0.12);
      }

      .news-title {
        font-size: 1.4rem;
        font-weight: 700;
        margin-bottom: 25px;
        color: #374151;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .news-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
        gap: 20px;
      }

      .news-card {
        background: #f9fafb;
        border-radius: 12px;
        padding: 20px;
        transition: all 0.3s ease;
        border: 1px solid #f3f4f6;
        position: relative;
        overflow: hidden;
      }

      .news-card:hover {
        background: white;
        transform: translateY(-4px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        border-color: #e5e7eb;
      }

      .news-badge {
        position: absolute;
        top: 15px;
        right: 15px;
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 0.7rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .news-urgent {
        background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
        color: #dc2626;
        border: 1px solid #f87171;
      }

      .news-success {
        background: linear-gradient(135deg, #dcfce7 0%, #bbf7d0 100%);
        color: #166534;
        border: 1px solid #86efac;
      }

      .news-info {
        background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
        color: #1e40af;
        border: 1px solid #93c5fd;
      }

      .news-warning {
        background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
        color: #92400e;
        border: 1px solid #fcd34d;
      }

      .news-content {
        padding-right: 80px;
      }

      .news-headline {
        font-size: 1rem;
        font-weight: 700;
        color: #374151;
        margin: 0 0 10px 0;
        line-height: 1.3;
      }

      .news-summary {
        font-size: 0.85rem;
        color: #6b7280;
        line-height: 1.5;
        margin: 0 0 15px 0;
      }

      .news-meta {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 0.75rem;
        color: #9ca3af;
      }

      .news-time {
        font-weight: 500;
      }

      .news-category {
        background: #f3f4f6;
        padding: 3px 8px;
        border-radius: 8px;
        font-weight: 600;
        color: #6b7280;
      }

      /* Loading Animation */
      .loading {
        display: inline-block;
        width: 20px;
        height: 20px;
        border: 3px solid #f3f3f3;
        border-top: 3px solid #22c55e;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      /* Responsive Design */
      @media (max-width: 1024px) {
        .main-grid {
          grid-template-columns: 1fr;
        }

        .chart-container {
          height: 250px;
        }
      }

      @media (max-width: 768px) {
        .header h1 {
          font-size: 2.2rem;
        }

        .system-name {
          font-size: 1.1rem;
          letter-spacing: 2px;
        }

        .nav-item {
          min-width: 85px;
          padding: 15px 8px;
          flex-shrink: 0;
        }

        .nav-text {
          font-size: 0.65rem;
          max-width: 80px;
          line-height: 1;
        }

        .nav-icon {
          font-size: 1.2rem;
          margin-bottom: 5px;
        }

        .stats-grid {
          grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
          gap: 20px;
        }

        .container {
          padding: 15px;
        }

        .stat-card {
          padding: 25px;
        }

        .chart-section,
        .project-status,
        .news-section {
          padding: 25px;
        }

        .news-grid {
          grid-template-columns: 1fr;
          gap: 15px;
        }

        .news-content {
          padding-right: 70px;
        }
      }

      @media (max-width: 480px) {
        .header h1 {
          font-size: 1.8rem;
        }

        .system-name {
          font-size: 1rem;
          letter-spacing: 1px;
        }

        .nav-item {
          min-width: 70px;
          padding: 12px 6px;
        }

        .nav-text {
          font-size: 0.6rem;
          max-width: 65px;
          line-height: 0.95;
        }

        .nav-icon {
          font-size: 1.1rem;
          margin-bottom: 4px;
        }

        .stats-grid {
          grid-template-columns: 1fr;
        }

        .countdown-timer {
          font-size: 2rem;
        }

        .stat-value {
          font-size: 2rem;
        }

        .news-section {
          padding: 20px;
        }

        .news-content {
          padding-right: 60px;
        }

        .news-headline {
          font-size: 0.9rem;
        }

        .news-summary {
          font-size: 0.8rem;
        }
        .video-container {
          position: relative;
          width: 100%;
          height: 200px;
          background: #f3f4f6;
          border-radius: 8px;
          overflow: hidden;
        }

        .video-container iframe {
          width: 100%;
          height: 100%;
          border: none;
        }

        .media-item {
          transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .media-item:hover {
          transform: translateY(-2px);
          box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .filter-button {
          transition: all 0.2s ease;
        }

        .filter-button.active {
          transform: translateY(-1px);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
      }
    </style>
    <style>
      @view-transition {
        navigation: auto;
      }
    </style>

    <style>
      /* Doumentation */
      .video-container {
        position: relative;
        width: 100%;
        height: 200px;
        background: #f3f4f6;
        border-radius: 8px;
        overflow: hidden;
      }

      .video-container iframe {
        width: 100%;
        height: 100%;
        border: none;
      }

      .media-item {
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }

      .media-item:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
      }

      .filter-button {
        transition: all 0.2s ease;
      }

      .filter-button.active {
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      }
    </style>

    <style>
      /* Money */
      .profit-positive {
        color: #059669;
        background-color: #d1fae5;
      }
      .profit-negative {
        color: #dc2626;
        background-color: #fee2e2;
      }
      .loading {
        opacity: 0.6;
        pointer-events: none;
      }
    </style>

    <style>
      /* Inventory */
      .notification-slide {
        animation: slideIn 0.3s ease-out;
      }

      @keyframes slideIn {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }

      .fade-out {
        animation: fadeOut 0.3s ease-out forwards;
      }

      @keyframes fadeOut {
        from {
          opacity: 1;
          transform: translateX(0);
        }
        to {
          opacity: 0;
          transform: translateX(100%);
        }
      }
    </style>
    <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
    <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
  </head>
  <body>
    <div class="min-h-full">
      <!-- Header -->
      <header class="header">
        <div class="header-content">
          <h1 id="main-title">Sistem Pendataan &amp; Pemantauan Pertanian</h1>
          <span class="system-name" id="system-name">ILZfarm</span>
        </div>
      </header>
      <!-- Navigation Menu -->
      <nav class="navigation">
        <div class="nav-container">
          <button class="nav-item nav-tab" data-tab="dashboard">
            <span class="nav-icon">üè†</span>
            <span class="nav-text">Dashboard</span>
          </button>
          <button class="nav-item nav-tab" data-tab="documentation">
            <span class="nav-icon">üìà</span>
            <span class="nav-text">Dokumentasi Pertumbuhan</span>
          </button>
          <button class="nav-item nav-tab" data-tab="money">
            <span class="nav-icon">üí∞</span>
            <span class="nav-text">Data Keuangan</span>
          </button>
          <button class="nav-item nav-tab" data-tab="inventory">
            <span class="nav-icon">üì¶</span>
            <span class="nav-text">Inventory Barang &amp; Stok</span>
          </button>
          <button class="nav-item nav-tab" data-tab="panen">
            <span class="nav-icon">üåæ</span>
            <span class="nav-text">Data Panen</span>
          </button>
          <button class="nav-item nav-tab" data-tab="penyakit">
            <span class="nav-icon">ü¶†</span>
            <span class="nav-text">Penyakit Tanaman</span>
          </button>
          <button class="nav-item nav-tab" data-tab="report">
            <span class="nav-icon">üìä</span>
            <span class="nav-text">Ringkasan Akhir Data</span>
          </button>
        </div>
      </nav>
      <main class="max-w-7xl mx-auto py-6 px-4">
        <!-- Dashboard Home Tab -->
        <div id="dashboard-tab" class="tab-content">
          <div class="mb-6">
            <!-- Stats Cards -->
            <section class="stats-grid">
              <div class="stat-card">
                <h3 id="investment-label">Total Investasi Masuk</h3>
                <p class="stat-value">Rp 2.5M</p>
                <p class="stat-change">‚Üó +12% dari bulan lalu</p>
              </div>
              <div class="stat-card">
                <h3 id="land-label">Jumlah Lahan Aktif</h3>
                <p class="stat-value">24 Ha</p>
                <p class="stat-change">‚Üó +3 lahan baru</p>
              </div>
              <div class="stat-card">
                <h3 id="harvest-label">Total Hasil Panen</h3>
                <p class="stat-value">1,850 Kg</p>
                <p class="stat-change">‚Üó +8% minggu ini</p>
              </div>
              <div class="stat-card">
                <h3 id="profit-label">Persentase Keuntungan</h3>
                <p class="stat-value">68%</p>
                <p class="stat-change">‚Üó +5% dari target</p>
              </div>
            </section>
            <!-- Main Content Grid -->
            <div class="main-grid">
              <!-- Chart Section -->
              <section class="chart-section">
                <h2 class="chart-title">Grafik Panen Mingguan</h2>
                <div class="chart-container">
                  <canvas id="harvestChart"></canvas>
                </div>
              </section>
              <!-- Countdown Section -->
              <aside class="countdown-section">
                <h3 class="countdown-title">üïí Panen Berikutnya</h3>
                <div class="countdown-timer" id="countdown">15:04:32</div>
                <p class="countdown-label">Hari : Jam : Menit</p>
                <div class="next-harvest">üçÖ Tomat Lahan B2</div>
              </aside>
            </div>
            <!-- Project Status -->
            <section class="project-status">
              <h2 class="project-title">Status Lahan Aktif</h2>
              <div class="project-item">
                <span class="project-name">üåæ Padi Sawah A1 - 5 Ha</span>
                <span class="status-badge status-healthy">Sehat</span>
              </div>
              <div class="project-item">
                <span class="project-name">üåΩ Jagung Lahan B3 - 3 Ha</span>
                <span class="status-badge status-care">Butuh Perawatan</span>
              </div>
              <div class="project-item">
                <span class="project-name">üçÖ Tomat Lahan B2 - 2 Ha</span>
                <span class="status-badge status-ready">Siap Panen</span>
              </div>
              <div class="project-item">
                <span class="project-name">üå∂Ô∏è Cabai Lahan C1 - 4 Ha</span>
                <span class="status-badge status-healthy">Sehat</span>
              </div>
              <div class="project-item">
                <span class="project-name">ü•î Kentang Lahan A3 - 6 Ha</span>
                <span class="status-badge status-care">Butuh Perawatan</span>
              </div>
            </section>
            <!-- News Section -->
            <section class="news-section">
              <h2 class="news-title">üì∞ Berita &amp; Update Terbaru</h2>
              <div class="news-grid">
                <article class="news-card">
                  <div class="news-badge news-urgent">Penting</div>
                  <div class="news-content">
                    <h3 class="news-headline">Peringatan Cuaca Ekstrem</h3>
                    <p class="news-summary">
                      Prakiraan hujan lebat selama 3 hari ke depan. Pastikan
                      sistem drainase lahan siap dan lindungi tanaman yang
                      rentan.
                    </p>
                    <div class="news-meta">
                      <span class="news-time">üïê 2 jam yang lalu</span>
                      <span class="news-category">Cuaca</span>
                    </div>
                  </div>
                </article>
                <article class="news-card">
                  <div class="news-badge news-success">Sukses</div>
                  <div class="news-content">
                    <h3 class="news-headline">Panen Tomat Lahan B2 Berhasil</h3>
                    <p class="news-summary">
                      Hasil panen tomat mencapai 450kg, melebihi target 20%.
                      Kualitas grade A mencapai 85% dari total panen.
                    </p>
                    <div class="news-meta">
                      <span class="news-time">üïê 5 jam yang lalu</span>
                      <span class="news-category">Panen</span>
                    </div>
                  </div>
                </article>
                <article class="news-card">
                  <div class="news-badge news-info">Info</div>
                  <div class="news-content">
                    <h3 class="news-headline">Harga Pupuk Organik Turun 15%</h3>
                    <p class="news-summary">
                      Supplier utama memberikan diskon khusus untuk pembelian
                      pupuk organik dalam jumlah besar. Kesempatan menghemat
                      biaya operasional.
                    </p>
                    <div class="news-meta">
                      <span class="news-time">üïê 1 hari yang lalu</span>
                      <span class="news-category">Ekonomi</span>
                    </div>
                  </div>
                </article>
                <article class="news-card">
                  <div class="news-badge news-warning">Perhatian</div>
                  <div class="news-content">
                    <h3 class="news-headline">Deteksi Hama di Lahan C1</h3>
                    <p class="news-summary">
                      Tim monitoring menemukan indikasi serangan hama pada
                      tanaman cabai. Tindakan pencegahan segera diperlukan.
                    </p>
                    <div class="news-meta">
                      <span class="news-time">üïê 1 hari yang lalu</span>
                      <span class="news-category">Hama &amp; Penyakit</span>
                    </div>
                  </div>
                </article>
                <article class="news-card">
                  <div class="news-badge news-info">Info</div>
                  <div class="news-content">
                    <h3 class="news-headline">
                      Teknologi Irigasi Otomatis Aktif
                    </h3>
                    <p class="news-summary">
                      Sistem irigasi otomatis telah beroperasi di 3 lahan utama.
                      Efisiensi penggunaan air meningkat 30%.
                    </p>
                    <div class="news-meta">
                      <span class="news-time">üïê 2 hari yang lalu</span>
                      <span class="news-category">Teknologi</span>
                    </div>
                  </div>
                </article>
                <article class="news-card">
                  <div class="news-badge news-success">Sukses</div>
                  <div class="news-content">
                    <h3 class="news-headline">Sertifikasi Organik Diterima</h3>
                    <p class="news-summary">
                      Lahan A1 dan A3 resmi mendapat sertifikasi organik. Harga
                      jual produk diperkirakan naik 40%.
                    </p>
                    <div class="news-meta">
                      <span class="news-time">üïê 3 hari yang lalu</span>
                      <span class="news-category">Sertifikasi</span>
                    </div>
                  </div>
                </article>
              </div>
            </section>
          </div>
        </div>

        <!-- Dash Dokumentasi-->
        <div id="documentation-tab" class="tab-content hidden">
          <div class="mb-6">
            <div class="min-h-full">
              <!-- Controls -->
              <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
                <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
                  <!-- Commodity Filter -->
                  <div class="mb-6">
                    <label
                      class="block text-sm font-semibold text-gray-700 mb-3"
                      >Pilih Komoditas:</label
                    >
                    <div class="flex flex-wrap gap-3">
                      <button
                        id="commodity-all"
                        class="filter-button px-6 py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 active"
                      >
                        Semua Komoditas
                      </button>
                      <button
                        id="commodity-timun"
                        class="filter-button px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300"
                      >
                        ü•í Timun
                      </button>
                      <button
                        id="commodity-bawang"
                        class="filter-button px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300"
                      >
                        üßÖ Bawang Merah
                      </button>
                      <button
                        id="commodity-cabai"
                        class="filter-button px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300"
                      >
                        üå∂Ô∏è Cabai
                      </button>
                      <button
                        id="commodity-tomat"
                        class="filter-button px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300"
                      >
                        üçÖ Tomat
                      </button>
                    </div>
                  </div>
                  <!-- Time Period Filter -->
                  <div class="mb-6">
                    <label
                      class="block text-sm font-semibold text-gray-700 mb-3"
                      >Filter Periode:</label
                    >
                    <div class="flex flex-wrap gap-3">
                      <button
                        id="period-all"
                        class="filter-button px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 active"
                      >
                        Semua Periode
                      </button>
                      <button
                        id="period-daily"
                        class="filter-button px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300"
                      >
                        üìÖ Harian
                      </button>
                      <button
                        id="period-weekly"
                        class="filter-button px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300"
                      >
                        üìä Mingguan
                      </button>
                      <button
                        id="period-monthly"
                        class="filter-button px-6 py-3 bg-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-300"
                      >
                        üìà Bulanan
                      </button>
                    </div>
                  </div>
                  <!-- Calendar Filter -->
                  <div class="mb-6">
                    <label
                      class="block text-sm font-semibold text-gray-700 mb-3"
                      >üìÖ Filter Tanggal:</label
                    >
                    <div class="flex flex-wrap gap-4 items-center">
                      <div>
                        <label class="block text-xs text-gray-500 mb-1"
                          >Dari Tanggal:</label
                        >
                        <input
                          type="date"
                          id="date-from"
                          class="px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                        />
                      </div>
                      <div>
                        <label class="block text-xs text-gray-500 mb-1"
                          >Sampai Tanggal:</label
                        >
                        <input
                          type="date"
                          id="date-to"
                          class="px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                        />
                      </div>
                      <button
                        id="clear-date"
                        class="px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 text-sm font-medium mt-4"
                      >
                        Reset Tanggal
                      </button>
                    </div>
                  </div>
                  <!-- Navigation -->
                  <div id="navigation-container" class="hidden">
                    <label
                      class="block text-sm font-semibold text-gray-700 mb-3"
                      >Navigasi:</label
                    >
                    <div
                      id="navigation-buttons"
                      class="flex flex-wrap gap-2"
                    ></div>
                  </div>
                </div>
                <!-- Media Grid -->
                <div
                  id="media-grid"
                  class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"
                >
                  <!-- Media items will be populated by JavaScript -->
                </div>
                <!-- No Results Message -->
                <div id="no-results" class="hidden text-center py-12">
                  <div class="bg-white rounded-xl shadow-lg p-8">
                    <div class="text-6xl mb-4">üîç</div>
                    <h3 class="text-xl font-semibold text-gray-700 mb-2">
                      Tidak Ada Dokumentasi
                    </h3>
                    <p class="text-gray-500">
                      Tidak ditemukan dokumentasi untuk filter yang dipilih.
                    </p>
                  </div>
                </div>
              </div>
              <!-- Modal Popup -->
              <div
                id="modal-overlay"
                class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4"
              >
                <div
                  class="bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] flex flex-col"
                >
                  <!-- Modal Header -->
                  <div
                    class="flex items-center justify-between p-6 border-b border-gray-200"
                  >
                    <h3
                      id="modal-title"
                      class="text-xl font-bold text-gray-900"
                    ></h3>
                    <button
                      id="close-modal"
                      class="text-gray-400 hover:text-gray-600 text-2xl font-bold"
                    >
                      ‚úï
                    </button>
                  </div>
                  <!-- Modal Content -->
                  <div class="flex-1 overflow-y-auto p-6">
                    <div id="modal-content" class="space-y-4">
                      <!-- Content will be populated by JavaScript -->
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Dash Keuangan -->
        <div id="money-tab" class="tab-content hidden">
          <div class="mb-6">
            <div class="min-h-full p-4">
              <div class="max-w-7xl mx-auto">
                <!-- Header -->
                <div class="bg-white rounded-lg shadow-sm p-6 mb-6">
                  <h1
                    id="app-title"
                    class="text-3xl font-bold text-green-800 mb-2"
                  >
                    Laporan Keuangan Pertanian
                  </h1>
                  <p class="text-green-600">
                    Laporan analisis keuangan usaha pertanian ILZbusiness
                  </p>
                </div>
                <!-- Ringkasan Keuangan -->
                <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                  <div class="bg-white rounded-lg shadow-sm p-6">
                    <h3
                      id="income-label"
                      class="text-sm font-medium text-gray-500 mb-2"
                    >
                      Total Pemasukan
                    </h3>
                    <p
                      id="total-income"
                      class="text-2xl font-bold text-green-600"
                    >
                      Rp 0
                    </p>
                  </div>
                  <div class="bg-white rounded-lg shadow-sm p-6">
                    <h3
                      id="expense-label"
                      class="text-sm font-medium text-gray-500 mb-2"
                    >
                      Total Pengeluaran
                    </h3>
                    <p
                      id="total-expense"
                      class="text-2xl font-bold text-red-600"
                    >
                      Rp 0
                    </p>
                  </div>
                  <div class="bg-white rounded-lg shadow-sm p-6">
                    <h3
                      id="profit-label"
                      class="text-sm font-medium text-gray-500 mb-2"
                    >
                      Laba/Rugi
                    </h3>
                    <p
                      id="total-profit"
                      class="text-2xl font-bold px-3 py-1 rounded-lg"
                    >
                      Rp 0
                    </p>
                  </div>
                  <div class="bg-white rounded-lg shadow-sm p-6">
                    <h3 class="text-sm font-medium text-gray-500 mb-2">
                      Total Transaksi
                    </h3>
                    <p
                      id="total-transactions"
                      class="text-2xl font-bold text-blue-600"
                    >
                      0
                    </p>
                  </div>
                </div>
                <!-- Filter -->
                <div class="bg-white rounded-lg shadow-sm p-6 mb-6">
                  <h2 class="text-xl font-semibold text-gray-800 mb-4">
                    Filter Transaksi
                  </h2>
                  <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                    <div>
                      <label
                        for="filter-komoditas"
                        class="block text-sm font-medium text-gray-700 mb-2"
                        >Komoditas</label
                      >
                      <select
                        id="filter-komoditas"
                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"
                      >
                        <option value="">Semua Komoditas</option>
                      </select>
                    </div>
                    <div>
                      <label
                        for="filter-jenis"
                        class="block text-sm font-medium text-gray-700 mb-2"
                        >Jenis</label
                      >
                      <select
                        id="filter-jenis"
                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"
                      >
                        <option value="">Semua Jenis</option>
                        <option value="pemasukan">Pemasukan</option>
                        <option value="pengeluaran">Pengeluaran</option>
                      </select>
                    </div>
                    <div>
                      <label
                        for="filter-dari"
                        class="block text-sm font-medium text-gray-700 mb-2"
                        >Dari Tanggal</label
                      >
                      <input
                        type="date"
                        id="filter-dari"
                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"
                      />
                    </div>
                    <div>
                      <label
                        for="filter-sampai"
                        class="block text-sm font-medium text-gray-700 mb-2"
                        >Sampai Tanggal</label
                      >
                      <input
                        type="date"
                        id="filter-sampai"
                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"
                      />
                    </div>
                  </div>
                </div>
                <!-- Tabel Transaksi -->
                <div class="bg-white rounded-lg shadow-sm overflow-hidden">
                  <div class="p-6 border-b border-gray-200">
                    <h2 class="text-xl font-semibold text-gray-800">
                      Daftar Transaksi
                    </h2>
                  </div>
                  <div class="overflow-x-auto">
                    <table class="w-full">
                      <thead class="bg-gray-50">
                        <tr>
                          <th
                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                          >
                            Tanggal
                          </th>
                          <th
                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                          >
                            Jenis
                          </th>
                          <th
                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                          >
                            Kategori
                          </th>
                          <th
                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                          >
                            Komoditas
                          </th>
                          <th
                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                          >
                            Nominal
                          </th>
                          <th
                            class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                          >
                            Keterangan
                          </th>
                        </tr>
                      </thead>
                      <tbody
                        id="transactions-table"
                        class="bg-white divide-y divide-gray-200"
                      >
                        <tr id="empty-state">
                          <td
                            colspan="6"
                            class="px-6 py-8 text-center text-gray-500"
                          >
                            Tidak ada data transaksi yang sesuai dengan filter
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Dash Inventory -->
        <div id="inventory-tab" class="tab-content hidden">
          <div class="mb-6">
            <div id="app" class="min-h-full p-6">
              <!-- Header -->
              <header class="mb-8">
                <div class="text-center">
                  <h1
                    id="dashboard-title"
                    class="text-4xl font-bold text-green-800 mb-2"
                  >
                    Manajemen Inventori Pertanian
                  </h1>
                  <p id="farm-name" class="text-xl text-green-600">
                    ILZ Business
                  </p>
                </div>
              </header>
              <!-- Summary Cards -->
              <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                <div
                  class="bg-white rounded-lg shadow-md p-6 border-l-4 border-green-500"
                >
                  <div class="flex items-center">
                    <div class="text-green-600 text-2xl mr-4">üì¶</div>
                    <div>
                      <p class="text-sm font-medium text-gray-600">
                        Total Barang
                      </p>
                      <p
                        id="total-items"
                        class="text-2xl font-bold text-gray-900"
                      >
                        0
                      </p>
                    </div>
                  </div>
                </div>
                <div
                  class="bg-white rounded-lg shadow-md p-6 border-l-4 border-green-500"
                >
                  <div class="flex items-center">
                    <div class="text-green-600 text-2xl mr-4">‚úÖ</div>
                    <div>
                      <p class="text-sm font-medium text-gray-600">Stok Aman</p>
                      <p
                        id="safe-items"
                        class="text-2xl font-bold text-green-600"
                      >
                        0
                      </p>
                    </div>
                  </div>
                </div>
                <div
                  class="bg-white rounded-lg shadow-md p-6 border-l-4 border-yellow-500"
                >
                  <div class="flex items-center">
                    <div class="text-yellow-600 text-2xl mr-4">‚ö†Ô∏è</div>
                    <div>
                      <p class="text-sm font-medium text-gray-600">
                        Stok Menipis
                      </p>
                      <p
                        id="low-items"
                        class="text-2xl font-bold text-yellow-600"
                      >
                        0
                      </p>
                    </div>
                  </div>
                </div>
                <div
                  class="bg-white rounded-lg shadow-md p-6 border-l-4 border-red-500"
                >
                  <div class="flex items-center">
                    <div class="text-red-600 text-2xl mr-4">üö®</div>
                    <div>
                      <p class="text-sm font-medium text-gray-600">
                        Stok Habis
                      </p>
                      <p
                        id="empty-items"
                        class="text-2xl font-bold text-red-600"
                      >
                        0
                      </p>
                    </div>
                  </div>
                </div>
              </div>
              <!-- Controls -->
              <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                <div
                  class="flex flex-col md:flex-row gap-4 items-start md:items-end"
                >
                  <div class="flex-1">
                    <label
                      for="commodity-filter"
                      class="block text-sm font-medium text-gray-700 mb-2"
                      >Filter Komoditas</label
                    >
                    <select
                      id="commodity-filter"
                      class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"
                    >
                      <option value="">Semua Komoditas</option>
                    </select>
                  </div>
                </div>
              </div>
              <!-- Inventory Table -->
              <div class="bg-white rounded-lg shadow-md overflow-hidden">
                <div class="px-6 py-4 border-b border-gray-200">
                  <h2 class="text-xl font-semibold text-gray-800">
                    Daftar Inventori
                  </h2>
                </div>
                <div class="overflow-x-auto">
                  <table class="w-full">
                    <thead class="bg-gray-50">
                      <tr>
                        <th
                          class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                        >
                          Nama Barang
                        </th>
                        <th
                          class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                        >
                          Jumlah
                        </th>
                        <th
                          class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                        >
                          Satuan
                        </th>
                        <th
                          class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                        >
                          Komoditas
                        </th>
                        <th
                          class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                        >
                          Status
                        </th>
                      </tr>
                    </thead>
                    <tbody
                      id="inventory-table"
                      class="bg-white divide-y divide-gray-200"
                    >
                      <tr id="empty-state" style="display: none">
                        <td
                          colspan="5"
                          class="px-6 py-12 text-center text-gray-500"
                        >
                          <div class="text-6xl mb-4">üì¶</div>
                          <p class="text-lg">Tidak ada data untuk filter ini</p>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
              <!-- Notifications Container -->
              <div
                id="notifications"
                class="fixed top-4 right-4 z-50 space-y-2"
              ></div>
            </div>
          </div>
        </div>
        <!-- Dash Panen -->
        <div id="panen-tab" class="tab-content hidden">
          <div class="mb-6">
            <div class="max-w-7xl mx-auto">
              <!-- Header -->
              <header class="mb-8">
                <h1
                  id="dashboard-title"
                  class="text-4xl font-bold text-green-800 mb-2"
                >
                  Dashboard Data Panen
                </h1>
                <p class="text-green-600">
                  Monitoring jadwal tanam dan hasil panen pertanian
                </p>
              </header>
              <!-- Countdown Card -->
              <div
                class="bg-white rounded-2xl shadow-lg p-6 mb-8 border-2 border-green-200"
              >
                <div class="flex items-center justify-between">
                  <div>
                    <h2
                      id="countdown-label"
                      class="text-xl font-semibold text-gray-700 mb-2"
                    >
                      üåæ Panen Terdekat
                    </h2>
                    <p
                      id="countdown-komoditas"
                      class="text-2xl font-bold text-green-700"
                    >
                      -
                    </p>
                  </div>
                  <div class="text-right">
                    <p class="text-gray-600 text-sm mb-1">Sisa Waktu</p>
                    <p
                      id="countdown-days"
                      class="text-5xl font-bold text-green-600"
                    >
                      -
                    </p>
                    <p class="text-gray-500 text-sm mt-1">hari lagi</p>
                  </div>
                </div>
              </div>
              <!-- Tabel Data Panen -->
              <div
                class="bg-white rounded-2xl shadow-lg overflow-hidden border-2 border-green-200 mb-8"
              >
                <div class="p-6 bg-green-600">
                  <h2 class="text-2xl font-bold text-white">üìä Data Panen</h2>
                </div>
                <div class="overflow-x-auto">
                  <table class="w-full">
                    <thead class="bg-green-100">
                      <tr>
                        <th
                          class="px-6 py-4 text-left text-sm font-semibold text-green-800"
                        >
                          Komoditas
                        </th>
                        <th
                          class="px-6 py-4 text-left text-sm font-semibold text-green-800"
                        >
                          Tanggal Tanam
                        </th>
                        <th
                          class="px-6 py-4 text-left text-sm font-semibold text-green-800"
                        >
                          Perkiraan Panen
                        </th>
                        <th
                          class="px-6 py-4 text-left text-sm font-semibold text-green-800"
                        >
                          Hasil Aktual
                        </th>
                        <th
                          class="px-6 py-4 text-left text-sm font-semibold text-green-800"
                        >
                          Keberhasilan
                        </th>
                        <th
                          class="px-6 py-4 text-left text-sm font-semibold text-green-800"
                        >
                          Status Countdown
                        </th>
                      </tr>
                    </thead>
                    <tbody id="table-body" class="divide-y divide-gray-200">
                      <!-- Data akan diisi oleh JavaScript -->
                    </tbody>
                  </table>
                </div>
              </div>
              <!-- Tabel Data Penjualan -->
              <div
                class="bg-white rounded-2xl shadow-lg overflow-hidden border-2 border-blue-200"
              >
                <div class="p-6 bg-blue-600">
                  <h2 class="text-2xl font-bold text-white">
                    üí∞ Data Penjualan
                  </h2>
                </div>
                <div class="overflow-x-auto">
                  <table class="w-full">
                    <thead class="bg-blue-100">
                      <tr>
                        <th
                          class="px-6 py-4 text-left text-sm font-semibold text-blue-800"
                        >
                          Komoditas
                        </th>
                        <th
                          class="px-6 py-4 text-left text-sm font-semibold text-blue-800"
                        >
                          Pembeli
                        </th>
                        <th
                          class="px-6 py-4 text-left text-sm font-semibold text-blue-800"
                        >
                          Jumlah Terjual
                        </th>
                        <th
                          class="px-6 py-4 text-left text-sm font-semibold text-blue-800"
                        >
                          Harga/Kg
                        </th>
                        <th
                          class="px-6 py-4 text-left text-sm font-semibold text-blue-800"
                        >
                          Total Pemasukan
                        </th>
                        <th
                          class="px-6 py-4 text-left text-sm font-semibold text-blue-800"
                        >
                          Tanggal Jual
                        </th>
                        <th
                          class="px-6 py-4 text-left text-sm font-semibold text-blue-800"
                        >
                          Status Bayar
                        </th>
                      </tr>
                    </thead>
                    <tbody
                      id="sales-table-body"
                      class="divide-y divide-gray-200"
                    >
                      <!-- Data akan diisi oleh JavaScript -->
                    </tbody>
                  </table>
                </div>
              </div>
              <!-- Grafik Section -->
              <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mt-8">
                <!-- Grafik Data Panen -->
                <div
                  class="bg-white rounded-2xl shadow-lg p-6 border-2 border-green-200"
                >
                  <h3 class="text-xl font-bold text-green-800 mb-4">
                    üìà Grafik Hasil Panen vs Target
                  </h3>
                  <div class="space-y-4" id="panen-chart">
                    <!-- Chart akan diisi oleh JavaScript -->
                  </div>
                </div>
                <!-- Grafik Data Penjualan -->
                <div
                  class="bg-white rounded-2xl shadow-lg p-6 border-2 border-blue-200"
                >
                  <h3 class="text-xl font-bold text-blue-800 mb-4">
                    üí∞ Grafik Penjualan per Komoditas
                  </h3>
                  <div class="space-y-4" id="sales-chart">
                    <!-- Chart akan diisi oleh JavaScript -->
                  </div>
                </div>
              </div>
              <!-- Summary Cards -->
              <div
                class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mt-8"
              >
                <div
                  class="bg-white rounded-xl shadow-md p-6 border-l-4 border-green-500"
                >
                  <p class="text-gray-600 text-sm mb-1">Total Komoditas</p>
                  <p
                    id="total-komoditas"
                    class="text-3xl font-bold text-green-700"
                  >
                    0
                  </p>
                </div>
                <div
                  class="bg-white rounded-xl shadow-md p-6 border-l-4 border-blue-500"
                >
                  <p class="text-gray-600 text-sm mb-1">Total Penjualan</p>
                  <p
                    id="total-penjualan"
                    class="text-3xl font-bold text-blue-700"
                  >
                    Rp 0
                  </p>
                </div>
                <div
                  class="bg-white rounded-xl shadow-md p-6 border-l-4 border-yellow-500"
                >
                  <p class="text-gray-600 text-sm mb-1">Piutang Belum Lunas</p>
                  <p
                    id="piutang-belum-lunas"
                    class="text-3xl font-bold text-yellow-700"
                  >
                    Rp 0
                  </p>
                </div>
                <div
                  class="bg-white rounded-xl shadow-md p-6 border-l-4 border-purple-500"
                >
                  <p class="text-gray-600 text-sm mb-1">
                    Rata-rata Keberhasilan
                  </p>
                  <p
                    id="avg-success"
                    class="text-3xl font-bold text-purple-700"
                  >
                    0%
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Dash penyakit -->
        <div id="penyakit-tab" class="tab-content hidden">
          <div class="mb-6">
            <div
              class="min-h-full"
              style="
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
              "
            >
              <div class="container mx-auto px-4 py-8">
                <!-- Header -->
                <header class="mb-8 text-center">
                  <h1 id="pageTitle" class="text-4xl font-bold text-white mb-2">
                    Data Penyakit Tanaman
                  </h1>
                  <p id="pageSubtitle" class="text-xl text-white opacity-90">
                    Pusat Informasi Penyakit Pertanian
                  </p>
                </header>
                <!-- Filter Section -->
                <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                  <div
                    class="flex flex-col sm:flex-row items-start sm:items-center gap-4"
                  >
                    <label
                      id="filterLabel"
                      for="komoditasFilter"
                      class="text-lg font-semibold text-gray-700 whitespace-nowrap"
                      >Filter Komoditas:</label
                    >
                    <select
                      id="komoditasFilter"
                      class="flex-1 px-4 py-2 border-2 border-purple-300 rounded-lg focus:outline-none focus:border-purple-500 transition-colors"
                    >
                      <option value="Semua">Semua Komoditas</option>
                    </select>
                    <div class="text-sm text-gray-600">
                      Total:
                      <span id="totalCount" class="font-bold text-purple-600"
                        >0</span
                      >
                      penyakit
                    </div>
                  </div>
                </div>
                <!-- Cards Container -->
                <div
                  id="cardsContainer"
                  class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"
                >
                  <!-- Cards will be inserted here -->
                </div>
                <!-- Table Container (Hidden by default, can be toggled) -->
                <div
                  id="tableContainer"
                  class="hidden bg-white rounded-lg shadow-lg overflow-hidden"
                >
                  <div
                    class="flex justify-between items-center p-6 border-b border-gray-200"
                  >
                    <h3 class="text-lg font-semibold text-gray-800">
                      Tampilan Tabel
                    </h3>
                    <button
                      id="toggleView"
                      class="px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors"
                    >
                      üìã Tampilan Kartu
                    </button>
                  </div>
                  <div class="overflow-x-auto">
                    <table class="w-full">
                      <thead class="bg-purple-600 text-white">
                        <tr>
                          <th class="px-6 py-4 text-left text-sm font-semibold">
                            Nama Penyakit
                          </th>
                          <th class="px-6 py-4 text-left text-sm font-semibold">
                            Gejala
                          </th>
                          <th class="px-6 py-4 text-left text-sm font-semibold">
                            Penyebab
                          </th>
                          <th class="px-6 py-4 text-left text-sm font-semibold">
                            Solusi
                          </th>
                          <th class="px-6 py-4 text-left text-sm font-semibold">
                            Komoditas
                          </th>
                          <th class="px-6 py-4 text-left text-sm font-semibold">
                            Status
                          </th>
                          <th class="px-6 py-4 text-left text-sm font-semibold">
                            Aksi
                          </th>
                        </tr>
                      </thead>
                      <tbody id="tableBody" class="divide-y divide-gray-200">
                        <!-- Data will be inserted here -->
                      </tbody>
                    </table>
                  </div>
                </div>
                <!-- View Toggle Button -->
                <div class="text-center mb-6">
                  <button
                    id="viewToggle"
                    class="px-6 py-3 bg-white text-purple-600 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 font-semibold border-2 border-purple-200 hover:border-purple-400"
                  >
                    üìä Tampilan Tabel
                  </button>
                </div>
                <!-- Empty State -->
                <div
                  id="emptyState"
                  class="hidden bg-white rounded-lg shadow-lg p-12 text-center"
                >
                  <svg
                    class="mx-auto h-16 w-16 text-gray-400 mb-4"
                    fill="none"
                    stroke="currentColor"
                    viewbox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                    ></path>
                  </svg>
                  <p class="text-gray-500 text-lg">
                    Tidak ada data penyakit untuk komoditas yang dipilih
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Dash Report -->
        <div id="report-tab" class="tab-content hidden">
          <div class="mb-6">
            <main>
              <div class="container">
                <header class="header">
                  <h1 id="dashboard-title">Laporan Data Akhir Pertanian</h1>
                  <p id="subtitle">
                    Analisis Keuangan &amp; Produksi Periode 2024
                  </p>
                </header>
                <div class="stats-grid">
                  <div class="stat-card">
                    <h3 id="income-label">Total Pemasukan</h3>
                    <p class="value" id="total-income">Rp 0</p>
                    <p class="subtext">Dari hasil panen</p>
                  </div>
                  <div class="stat-card expense">
                    <h3 id="expense-label">Total Pengeluaran</h3>
                    <p class="value" id="total-expense">Rp 0</p>
                    <p class="subtext">Biaya operasional</p>
                  </div>
                  <div class="stat-card profit">
                    <h3 id="profit-label">Total Laba/Rugi</h3>
                    <p class="value" id="total-profit">Rp 0</p>
                    <p class="subtext">Keuntungan bersih</p>
                  </div>
                  <div class="stat-card expense">
                    <h3>Bagian Investor</h3>
                    <p class="value" id="total-investor">Rp 0</p>
                    <p class="subtext">Pembagian hasil</p>
                  </div>
                  <div class="stat-card">
                    <h3 id="harvest-label">Panen Berhasil</h3>
                    <p class="value" id="harvest-success">0%</p>
                    <p class="subtext">Tingkat keberhasilan</p>
                  </div>
                  <div class="stat-card">
                    <h3 id="commodity-label">Komoditas Aktif</h3>
                    <p class="value" id="total-commodity">0</p>
                    <p class="subtext">Jenis tanaman</p>
                  </div>
                </div>
                <div class="controls">
                  <div class="filter-group">
                    <label for="period-filter">Periode:</label>
                    <select id="period-filter">
                      <option value="all">Semua Periode</option>
                      <option value="q1">Kuartal 1 (Jan-Mar)</option>
                      <option value="q2">Kuartal 2 (Apr-Jun)</option>
                      <option value="q3">Kuartal 3 (Jul-Sep)</option>
                      <option value="q4">Kuartal 4 (Okt-Des)</option>
                    </select>
                    <label for="commodity-filter">Komoditas:</label>
                    <select id="commodity-filter">
                      <option value="all">Semua Komoditas</option>
                    </select>
                  </div>
                </div>
                <div class="content-grid">
                  <div class="table-container">
                    <h2>Rekap Data Komoditas</h2>
                    <table>
                      <thead>
                        <tr>
                          <th>Komoditas</th>
                          <th>Total Biaya</th>
                          <th>Total Hasil</th>
                          <th>Laba/Rugi</th>
                          <th>Efisiensi (%)</th>
                        </tr>
                      </thead>
                      <tbody id="table-body"></tbody>
                    </table>
                  </div>
                  <div class="table-container">
                    <h2>Daftar Investor &amp; Pembagian Hasil</h2>
                    <div
                      style="
                        display: grid;
                        grid-template-columns: 1fr 400px;
                        gap: 24px;
                        align-items: start;
                      "
                    >
                      <table>
                        <thead>
                          <tr>
                            <th>Nama Investor</th>
                            <th>Komoditas</th>
                            <th>Persentase</th>
                            <th>Jumlah Pembagian</th>
                            <th>Status</th>
                          </tr>
                        </thead>
                        <tbody id="investor-table-body"></tbody>
                      </table>
                      <div>
                        <h3
                          style="
                            margin: 0 0 16px 0;
                            color: #4a5568;
                            font-size: 16px;
                            font-weight: 600;
                          "
                        >
                          Grafik Pembagian Investor
                        </h3>
                        <div style="position: relative; height: 300px">
                          <canvas id="investorChart"></canvas>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="charts-grid">
                  <div class="chart-container">
                    <h2>Perbandingan Biaya vs Hasil</h2>
                    <div class="chart-wrapper">
                      <canvas id="barChart"></canvas>
                    </div>
                  </div>
                  <div class="chart-container">
                    <h2>Komposisi Pengeluaran</h2>
                    <div class="chart-wrapper">
                      <canvas id="pieChart"></canvas>
                    </div>
                  </div>
                </div>
              </div>
            </main>
          </div>
        </div>
      </main>
    </div>

    <script>
      // Default configuration
      const defaultConfig = {
        main_title: "Sistem Pendataan & Pemantauan Pertanian",
        system_name: "ILZfarm",
        investment_label: "Total Investasi Masuk",
        land_label: "Jumlah Lahan Aktif",
        harvest_label: "Total Hasil Panen",
        profit_label: "Persentase Keuntungan",
      };
      // TUGAS RISET =========================================================>
      // Tab navigation
      document.querySelectorAll(".nav-tab").forEach((tab) => {
        tab.addEventListener("click", (e) => {
          const tabName = e.currentTarget.dataset.tab;
          switchTab(tabName);
        });
      });

      // Tab switching
      function switchTab(tabName) {
        // Update tab buttons
        document.querySelectorAll(".nav-tab").forEach((tab) => {
          tab.classList.remove("border-green-500", "text-green-600");
          tab.classList.add("border-transparent", "text-gray-500");
        });

        const activeTab = document.querySelector(`[data-tab="${tabName}"]`);
        if (activeTab) {
          activeTab.classList.remove("border-transparent", "text-gray-500");
          activeTab.classList.add("border-green-500", "text-green-600");
        }

        // Update content
        document.querySelectorAll(".tab-content").forEach((content) => {
          content.classList.add("hidden");
        });

        const activeContent = document.getElementById(`${tabName}-tab`);
        if (activeContent) {
          activeContent.classList.remove("hidden");
        }
      }
      // TUGAS RISET =========================================================>
      // Initialize Chart after DOM is loaded
      let harvestChart;

      function initializeChart() {
        const ctx = document.getElementById("harvestChart").getContext("2d");

        harvestChart = new Chart(ctx, {
          type: "line",
          data: {
            labels: [
              "Minggu 1",
              "Minggu 2",
              "Minggu 3",
              "Minggu 4",
              "Minggu 5",
              "Minggu 6",
              "Minggu 7",
            ],
            datasets: [
              {
                label: "Hasil Panen (Kg)",
                data: [320, 450, 380, 520, 480, 650, 580],
                borderColor: "#22c55e",
                backgroundColor: "rgba(34, 197, 94, 0.1)",
                borderWidth: 4,
                fill: true,
                tension: 0.4,
                pointBackgroundColor: "#22c55e",
                pointBorderColor: "#ffffff",
                pointBorderWidth: 3,
                pointRadius: 8,
                pointHoverRadius: 12,
                pointHoverBackgroundColor: "#16a34a",
                pointHoverBorderColor: "#ffffff",
                pointHoverBorderWidth: 3,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                display: false,
              },
              tooltip: {
                backgroundColor: "rgba(0, 0, 0, 0.8)",
                titleColor: "#ffffff",
                bodyColor: "#ffffff",
                borderColor: "#22c55e",
                borderWidth: 2,
                cornerRadius: 8,
                displayColors: false,
              },
            },
            scales: {
              y: {
                beginAtZero: true,
                grid: {
                  color: "rgba(0, 0, 0, 0.05)",
                  drawBorder: false,
                },
                ticks: {
                  color: "#6b7280",
                  font: {
                    family: "Poppins",
                    size: 12,
                  },
                  callback: function (value) {
                    return value + " Kg";
                  },
                },
              },
              x: {
                grid: {
                  color: "rgba(0, 0, 0, 0.05)",
                  drawBorder: false,
                },
                ticks: {
                  color: "#6b7280",
                  font: {
                    family: "Poppins",
                    size: 12,
                  },
                },
              },
            },
            interaction: {
              intersect: false,
              mode: "index",
            },
            animation: {
              duration: 2000,
              easing: "easeInOutQuart",
            },
          },
        });
      }

      // Enhanced Countdown Timer
      function updateCountdown() {
        const targetDate = new Date();
        targetDate.setDate(targetDate.getDate() + 15);
        targetDate.setHours(targetDate.getHours() + 4);
        targetDate.setMinutes(targetDate.getMinutes() + 32);

        const now = new Date().getTime();
        const distance = targetDate.getTime() - now;

        if (distance > 0) {
          const days = Math.floor(distance / (1000 * 60 * 60 * 24));
          const hours = Math.floor(
            (distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
          );
          const minutes = Math.floor(
            (distance % (1000 * 60 * 60)) / (1000 * 60)
          );
          const seconds = Math.floor((distance % (1000 * 60)) / 1000);

          document.getElementById("countdown").innerHTML =
            String(days).padStart(2, "0") +
            ":" +
            String(hours).padStart(2, "0") +
            ":" +
            String(minutes).padStart(2, "0");
        } else {
          document.getElementById("countdown").innerHTML = "00:00:00";
        }
      }

      // Update countdown every second for more accuracy
      updateCountdown();
      setInterval(updateCountdown, 1000);

      // Element SDK Configuration
      async function onConfigChange(config) {
        document.getElementById("main-title").textContent =
          config.main_title || defaultConfig.main_title;
        document.getElementById("system-name").textContent =
          config.system_name || defaultConfig.system_name;
        document.getElementById("investment-label").textContent =
          config.investment_label || defaultConfig.investment_label;
        document.getElementById("land-label").textContent =
          config.land_label || defaultConfig.land_label;
        document.getElementById("harvest-label").textContent =
          config.harvest_label || defaultConfig.harvest_label;
        document.getElementById("profit-label").textContent =
          config.profit_label || defaultConfig.profit_label;
      }

      function mapToCapabilities(config) {
        return {
          recolorables: [],
          borderables: [],
          fontEditable: undefined,
          fontSizeable: undefined,
        };
      }

      function mapToEditPanelValues(config) {
        return new Map([
          ["main_title", config.main_title || defaultConfig.main_title],
          ["system_name", config.system_name || defaultConfig.system_name],
          [
            "investment_label",
            config.investment_label || defaultConfig.investment_label,
          ],
          ["land_label", config.land_label || defaultConfig.land_label],
          [
            "harvest_label",
            config.harvest_label || defaultConfig.harvest_label,
          ],
          ["profit_label", config.profit_label || defaultConfig.profit_label],
        ]);
      }

      // Navigation click handler
      function handleNavClick(event) {
        event.preventDefault();

        // Remove active class from all nav items
        document.querySelectorAll(".nav-item").forEach((item) => {
          item.classList.remove("active");
        });

        // Add active class to clicked item
        event.currentTarget.classList.add("active");
      }

      // Initialize everything when DOM is ready
      document.addEventListener("DOMContentLoaded", function () {
        initializeChart();

        // Add click handlers to navigation items
        document.querySelectorAll(".nav-item").forEach((item) => {
          item.addEventListener("click", handleNavClick);
        });

        // Initialize Element SDK
        if (window.elementSdk) {
          window.elementSdk.init({
            defaultConfig,
            onConfigChange,
            mapToCapabilities,
            mapToEditPanelValues,
          });
        }
      });

      // Fallback initialization if DOMContentLoaded already fired
      if (document.readyState === "loading") {
        // DOM is still loading, wait for DOMContentLoaded
      } else {
        // DOM is already loaded
        initializeChart();

        if (window.elementSdk) {
          window.elementSdk.init({
            defaultConfig,
            onConfigChange,
            mapToCapabilities,
            mapToEditPanelValues,
          });
        }
      }
    </script>

    <script src="exm3doc.js"></script>
    <script src="exm3money.js"></script>
    <script src="exm3inventory.js"></script>
    <script src="exm3datapanen.js"></script>
    <script src="exm3penyakit.js"></script>
    <script src="exm3report.js"></script>
    </body>
</html>
